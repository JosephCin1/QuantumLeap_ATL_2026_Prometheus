<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lightleap AI - Prometheus</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="shell">
      <section class="card app-card">
        <header class="app-header-modern">
          <div class="app-header-title">
            <h1>Lightleap AI - Prometheus</h1>
            <p id="clearance" class="subtitle-modern"></p>
          </div>
          <button id="settings-toggle" class="icon-btn" type="button" aria-label="Open settings">Settings</button>
        </header>

        <aside id="settings-panel" class="settings-panel" hidden>
          <h2>Administrator Settings</h2>
          <p class="settings-intro">Select a section to open in a separate Apple-style panel.</p>
          <div class="settings-launch-grid">
            <button class="settings-launch-btn" type="button" data-window="basic-modal">Basic Preferences</button>
            <button class="settings-launch-btn" type="button" data-window="privileges-modal">Privileges</button>
            <button class="settings-launch-btn" type="button" data-window="audit-modal">Audit Log</button>
            <button class="settings-launch-btn" type="button" data-window="integrations-modal">Integrations</button>
          </div>
        </aside>

        <div class="chat-window" id="chat-window">
          <div class="bubble bot">Welcome. Ask about your allowed resources.</div>
        </div>

        <form id="chat-form" class="form-inline">
          <input type="text" id="chat-input" placeholder="Type your question..." required />
          <button type="submit">Send</button>
        </form>
      </section>
    </main>

    <div id="settings-modal-root">
      <section id="basic-modal" class="settings-modal" hidden>
        <div class="modal-backdrop" data-close-modal></div>
        <article class="modal-card">
          <header class="modal-header">
            <h3>Basic Preferences</h3>
            <label class="inline-control">
              <span>Dark mode</span>
              <input id="dark-mode-toggle" type="checkbox" />
            </label>

            <label for="text-size">Text size</label>
            <select id="text-size">
              <option value="small">Small</option>
              <option value="medium" selected>Medium</option>
              <option value="large">Large</option>
            </select>
          </section>

          <section id="admin-settings" class="settings-section" hidden>
            <h3>Administrator ICCP</h3>
            <label for="iccp-role">Role Profile</label>
            <select id="iccp-role">
              <option value="student">Student</option>
              <option value="faculty">Faculty</option>
              <option value="staff">Staff</option>
            </select>

            <div id="iccp-permissions" class="permissions-grid"></div>

            <hr />
            <h3>Audit Log</h3>
            <button id="audit-log-btn" type="button" class="btn-secondary">View Audit Log</button>
            <div id="audit-log-container" class="audit-log-container" hidden>
              <div class="audit-log-header">
                <h4>ICCP Enforcement Audit</h4>
                <button id="close-audit-btn" type="button" class="close-btn">âœ•</button>
              </div>
              <div id="audit-log-table" class="audit-log-table"></div>
            </div>
          </section>

      <section id="integrations-modal" class="settings-modal" hidden>
        <div class="modal-backdrop" data-close-modal></div>
        <article class="modal-card">
          <header class="modal-header">
            <h3>Integrations</h3>
            <button class="close-btn" type="button" data-close-modal aria-label="Close">X</button>
          </header>
          <div id="integrations-list" class="integration-cards"></div>
        </article>
      </section>
    </main>

    <script src="chatbot.js" defer></script>
  </body>
</html>
